<!--  https://www.npmjs.com/package/ng2-scroll-to-el -->

<app-navbar></app-navbar>

<div class="container main">

  <nav class="breadcrumb">
    <a class="breadcrumb-item" href="#">Oferta</a>
    <a class="breadcrumb-item" href="#">Garaże</a>
    <a class="breadcrumb-item" href="#">{{this.offerDetails.name}}</a>
  </nav>

  <div class="row">
    <div class="col-md-6">
        <img class="image img-thumbnail rounded float-left" src={{this.offerDetails.imagePath}}>
    </div>
    <div class="col-md-6">
      <h1 class="item-name ">{{this.offerDetails.name}}</h1>
      <h1 class="price">{{this.offerDetails.price}} zł</h1>

      <h5 class="text-success" >Dostępny</h5>
      <!-- <h5 *ngIf="this.itemDetails.available" class="text-success" >Dostepny</h5>
      <h5 *ngIf="!this.itemDetails.available" class="text-danger" >Niedostepny</h5> -->

      <div class="row">
        <div class="col-6">
          <input  [disabled]=true type="number" value="1">
          <span>Sztuk</span>
        </div>
        <div class="col-6">
          <button type="button" class="btn btn-lg btn-success" [scrollTo]="'#form'" [scrollDuration]="500" [scrollOffset]="-100"  (click)="this.showOrderForm()">Zamów</button>
        </div>
      </div>
      <!-- <span class="text-muted">* dostawa w ciagu {{this.itemDetails.deliveryDays}} dni</span> -->
      </div>
  </div>

  <div class="row opis">
    <h3>Opis garażu</h3>
    <!-- <div style="margin-top:20px;">
      <p>{{this.offerDetails.longDescription}}</p>
    </div> -->
    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Libero, iure tenetur? Voluptate ea accusantium modi adipisci, laboriosam perferendis enim odit cupiditate laborum quae. Deserunt, vitae consectetur. Quidem sint quo assumenda?</p>
  </div>


  <div id="form" class="">
    <form *ngIf="this.showForm" [formGroup]="this.orderForm" class="border" >
        <h1 class="text-center pb-4 text-muted">Formularz zamówienia</h1>
      <!-- <div *ngIf="!this.getCommonService().loginStatus" class="credentialForm"> -->
      <div class="credentialForm">
          <!-- <div class="text-center form-row alert alert-warning" role="alert">
              Wpisz dane istniejacego konta lub zarejestruj sie ponizej.
          </div>
          <div class="form-row">
              <div class="form-group col-md-6 has-success">
                <label class="form-control-label" for="inputEmail4">Email</label>
                <input formControlName="email" type="email" class="form-control form-control-success" id="inputEmail4" placeholder="email">
                <div
                [ngClass]="{'text-danger' : !orderForm.get('email').valid && orderForm.get('email').dirty,
                 'd-none' : !orderForm.get('email').dirty || orderForm.get('email').valid }">
                 <small class="form-text">Email Niepoprawny !</small>
                </div>
              </div>
              <div class="form-group col-md-6">
                <label for="inputPassword4">Haslo</label>
                <input formControlName="password" type="password" class="form-control" id="inputPassword4" placeholder="haslo">
              </div>
          </div> -->
          <app-credentials-form (credentials)="this.getCredentials($event)" (credentialsOK)="this.onCredentialsFilled($event)"></app-credentials-form>

      </div>
        <!-- <div class="form-group">
          <label for="inputAddress">Adres</label>
          <input formControlName="address" type="text" class="form-control" id="inputAddress" placeholder="Ulica + nr. domu">
          <div
          [ngClass]="{'text-danger' : !orderForm.get('address').valid && orderForm.get('address').dirty,
           'd-none' : !orderForm.get('address').dirty || orderForm.get('address').valid  }">
           <small class="form-text">Podaj adres !</small>
          </div>
        </div> -->
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="inputName">Imie</label>
            <input formControlName="name" type="text" class="form-control" id="inputName">
            <div
            [ngClass]="{'text-danger' : !orderForm.get('name').valid && orderForm.get('name').dirty,
            'd-none' : !orderForm.get('name').dirty || orderForm.get('name').valid }">
            <small class="form-text">Podaj Imie !</small>
            </div>
          </div>
          <div class="form-group col-md-6">
            <label for="inputSurname">Nazwisko</label>
            <input formControlName="surname" type="text" class="form-control" id="inputSurname">
            <div
            [ngClass]="{'text-danger' : !orderForm.get('surname').valid && orderForm.get('surname').dirty,
            'd-none' : !orderForm.get('surname').dirty || orderForm.get('surname').valid }">
            <small class="form-text">Podaj nazwisko !</small>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="inputCity">Miejscowość</label>
            <input formControlName="city" type="text" class="form-control" id="inputCity">
            <div
            [ngClass]="{'text-danger' : !orderForm.get('city').valid && orderForm.get('city').dirty,
            'd-none' : !orderForm.get('city').dirty || orderForm.get('city').valid }">
            <small class="form-text">Podaj miejscowość !</small>
            </div>
          </div>
          <div class="form-group col-md-3">
            <label for="inputHouseNumber">Nr domu</label>
            <input formControlName="houseNumber" type="text" class="form-control" id="inputHouseNumber">
            <div
            [ngClass]="{'text-danger' : !orderForm.get('houseNumber').valid && orderForm.get('houseNumber').dirty,
            'd-none' : !orderForm.get('houseNumber').dirty || orderForm.get('houseNumber').valid }">
            <small class="form-text">Podaj Nr domu !</small>
            </div>
          </div>
          <div class="form-group col-md-3">
            <label for="inputState">Wojewodztwo</label>
            <select formControlName="location" id="inputState" class="form-control">
              <option selected>Małopolskie</option>
              <option>Podkarpackie</option>
              <option>Podkarpackie</option>
              <option>Lubelskie</option>
              <option>Świętokrzyskie</option>
              <option>Łódzkie</option>
              <option>Śląskie</option>
              <option>Opolskie</option>
              <option>Dolnośląskie</option>
              <option>Lubuskie</option>
            </select>
            <div
            [ngClass]="{'text-danger' : !orderForm.get('location').valid && orderForm.get('location').dirty,
            'd-none' : !orderForm.get('location').dirty || orderForm.get('location').valid }">
            <small class="form-text">Wybierz wojewodztwo !</small>
            </div>
          </div>
          <div class="form-group col-md-6">
              <label for="inputTelephoneNumber">Numer telefonu</label>
              <input formControlName="telephoneNumber" type="text" class="form-control" id="inputTelephoneNumber">
              <div
              [ngClass]="{'text-danger' : !orderForm.get('telephoneNumber').valid && orderForm.get('telephoneNumber').dirty,
              'd-none' : !orderForm.get('telephoneNumber').dirty || orderForm.get('telephoneNumber').valid }">
              <small class="form-text">Podaj numer telefonu !</small>
              </div>
            </div>
          <div class="form-group col-md-3">
            <label for="inputZipCode">Kod pocztowy</label>
            <input formControlName="zipCode" type="text" class="form-control" id="inputZipCode">
            <div
            [ngClass]="{'text-danger' : !orderForm.get('zipCode').valid && orderForm.get('zipCode').dirty,
            'd-none' : !orderForm.get('zipCode').dirty || orderForm.get('zipCode').valid }">
            <small class="form-text">Podaj kod pocztowy !</small>
            </div>
          </div>
          <div class="form-group col-md-3">
            <label for="inputPostCity">Miasto</label>
            <input formControlName="postCity" type="text" class="form-control" id="inputPostCity">
            <div
            [ngClass]="{'text-danger' : !orderForm.get('postCity').valid && orderForm.get('postCity').dirty,
            'd-none' : !orderForm.get('postCity').dirty || orderForm.get('postCity').valid }">
            <small class="form-text">Podaj miasto !</small>
            </div>
          </div>

        </div>

        Kolor blachy:
        <app-sheet-color (select)="this.onSelectSheetColor($event)" class="m-5">
        </app-sheet-color>

        Typ blachy:
        <app-sheet-type (select)="this.onSelectSheetType($event)" class="m-5">
        </app-sheet-type>

        <app-garage-size [sizes]="this.offerDetails.availableSizes" (select)="this.onSelectGarageSize($event)" class="">
        </app-garage-size>

        <!-- <app-garage-size [sizes]="this.offerDetails.availableDoors.map(door => door.typeName)" (select)="this.onSelectGarageSize($event)" class="">
        </app-garage-size> -->

        <div class="form-row">
          <span (click)="this.gotoKontaktPage()" class="text-center note">Pomysl na niestandardowy garaz? Przejdz do sekcji kontakt i napisz do nas!</span>
        </div>

        <!-- <button (click) = "this.makeOrder()" [disabled]="orderForm.invalid || !this.credentialFormStatus" type="submit" class="btn btn-success btn-lg mt-3">Złóż zamówienie</button> -->
        <button (click) = "this.onCreateOrder()" class="btn btn-success btn-lg mt-3">Złóż zamówienie</button>
      </form>

      <!-- <pre> {{ orderForm.value | json}}</pre>
      <pre> validacja email {{ orderForm.get('email').valid | json}}</pre> -->
    </div>







</div>
